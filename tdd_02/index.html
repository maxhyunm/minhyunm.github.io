<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta data-react-helmet="true" name="twitter:description" content="부제 : 이건… 뭐야…? 도자기 깨는 장인이야…? 참고서적 : 
환경 : , ,  ,  ,   Chapter 03. 단위 테스트를 이용한 간단한 홈페이지 테스트 앞서 진행한 내용에 좀 더 살을 붙여보도록 하겠다.
지난 기능 테스트에 작성했듯이 타이틀에 ‘To-Do…"/><meta data-react-helmet="true" name="twitter:title" content="TDD Study - week 2"/><meta data-react-helmet="true" name="twitter:creator" content=""/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:description" content="부제 : 이건… 뭐야…? 도자기 깨는 장인이야…? 참고서적 : 
환경 : , ,  ,  ,   Chapter 03. 단위 테스트를 이용한 간단한 홈페이지 테스트 앞서 진행한 내용에 좀 더 살을 붙여보도록 하겠다.
지난 기능 테스트에 작성했듯이 타이틀에 ‘To-Do…"/><meta data-react-helmet="true" property="og:title" content="TDD Study - week 2"/><meta data-react-helmet="true" name="description" content="부제 : 이건… 뭐야…? 도자기 깨는 장인이야…? 참고서적 : 
환경 : , ,  ,  ,   Chapter 03. 단위 테스트를 이용한 간단한 홈페이지 테스트 앞서 진행한 내용에 좀 더 살을 붙여보도록 하겠다.
지난 기능 테스트에 작성했듯이 타이틀에 ‘To-Do…"/><meta name="generator" content="Gatsby 4.14.1"/><style data-href="/styles.5ed63f97d76756aacddc.css" data-identity="gatsby-global-css">@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:100;src:local("Montserrat Thin "),local("Montserrat-Thin"),url(/static/montserrat-latin-100-8d7d79679b70dbe27172b6460e7a7910.woff2) format("woff2"),url(/static/montserrat-latin-100-ec38980a9e0119a379e2a9b3dbb1901a.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:100;src:local("Montserrat Thin italic"),local("Montserrat-Thinitalic"),url(/static/montserrat-latin-100italic-e279051046ba1286706adc886cf1c96b.woff2) format("woff2"),url(/static/montserrat-latin-100italic-3b325a3173c8207435cd1b76e19bf501.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:200;src:local("Montserrat Extra Light "),local("Montserrat-Extra Light"),url(/static/montserrat-latin-200-9d266fbbfa6cab7009bd56003b1eeb67.woff2) format("woff2"),url(/static/montserrat-latin-200-2d8ba08717110d27122e54c34b8a5798.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:200;src:local("Montserrat Extra Light italic"),local("Montserrat-Extra Lightitalic"),url(/static/montserrat-latin-200italic-6e5b3756583bb2263eb062eae992735e.woff2) format("woff2"),url(/static/montserrat-latin-200italic-a0d6f343e4b536c582926255367a57da.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:300;src:local("Montserrat Light "),local("Montserrat-Light"),url(/static/montserrat-latin-300-00b3e893aab5a8fd632d6342eb72551a.woff2) format("woff2"),url(/static/montserrat-latin-300-ea303695ceab35f17e7d062f30e0173b.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:300;src:local("Montserrat Light italic"),local("Montserrat-Lightitalic"),url(/static/montserrat-latin-300italic-56f34ea368f6aedf89583d444bbcb227.woff2) format("woff2"),url(/static/montserrat-latin-300italic-54b0bf2c8c4c12ffafd803be2466a790.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:400;src:local("Montserrat Regular "),local("Montserrat-Regular"),url(/static/montserrat-latin-400-b71748ae4f80ec8c014def4c5fa8688b.woff2) format("woff2"),url(/static/montserrat-latin-400-0659a9f4e90db5cf51b50d005bff1e41.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:400;src:local("Montserrat Regular italic"),local("Montserrat-Regularitalic"),url(/static/montserrat-latin-400italic-6eed6b4cbb809c6efc7aa7ddad6dbe3e.woff2) format("woff2"),url(/static/montserrat-latin-400italic-7583622cfde30ae49086d18447ab28e7.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:500;src:local("Montserrat Medium "),local("Montserrat-Medium"),url(/static/montserrat-latin-500-091b209546e16313fd4f4fc36090c757.woff2) format("woff2"),url(/static/montserrat-latin-500-edd311588712a96bbf435fad264fff62.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:500;src:local("Montserrat Medium italic"),local("Montserrat-Mediumitalic"),url(/static/montserrat-latin-500italic-c90ced68b46050061d1a41842d6dfb43.woff2) format("woff2"),url(/static/montserrat-latin-500italic-5146cbfe02b1deea5dffea27a5f2f998.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:600;src:local("Montserrat SemiBold "),local("Montserrat-SemiBold"),url(/static/montserrat-latin-600-0480d2f8a71f38db8633b84d8722e0c2.woff2) format("woff2"),url(/static/montserrat-latin-600-b77863a375260a05dd13f86a1cee598f.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:600;src:local("Montserrat SemiBold italic"),local("Montserrat-SemiBolditalic"),url(/static/montserrat-latin-600italic-cf46ffb11f3a60d7df0567f8851a1d00.woff2) format("woff2"),url(/static/montserrat-latin-600italic-c4fcfeeb057724724097167e57bd7801.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:700;src:local("Montserrat Bold "),local("Montserrat-Bold"),url(/static/montserrat-latin-700-7dbcc8a5ea2289d83f657c25b4be6193.woff2) format("woff2"),url(/static/montserrat-latin-700-99271a835e1cae8c76ef8bba99a8cc4e.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:700;src:local("Montserrat Bold italic"),local("Montserrat-Bolditalic"),url(/static/montserrat-latin-700italic-c41ad6bdb4bd504a843d546d0a47958d.woff2) format("woff2"),url(/static/montserrat-latin-700italic-6779372f04095051c62ed36bc1dcc142.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:800;src:local("Montserrat ExtraBold "),local("Montserrat-ExtraBold"),url(/static/montserrat-latin-800-db9a3e0ba7eaea32e5f55328ace6cf23.woff2) format("woff2"),url(/static/montserrat-latin-800-4e3c615967a2360f5db87d2f0fd2456f.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:800;src:local("Montserrat ExtraBold italic"),local("Montserrat-ExtraBolditalic"),url(/static/montserrat-latin-800italic-bf45bfa14805969eda318973947bc42b.woff2) format("woff2"),url(/static/montserrat-latin-800italic-fe82abb0bcede51bf724254878e0c374.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:900;src:local("Montserrat Black "),local("Montserrat-Black"),url(/static/montserrat-latin-900-e66c7edc609e24bacbb705175669d814.woff2) format("woff2"),url(/static/montserrat-latin-900-8211f418baeb8ec880b80ba3c682f957.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:900;src:local("Montserrat Black italic"),local("Montserrat-Blackitalic"),url(/static/montserrat-latin-900italic-4454c775e48152c1a72510ceed3603e2.woff2) format("woff2"),url(/static/montserrat-latin-900italic-efcaa0f6a82ee0640b83a0916e6e8d68.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:300;src:local("Merriweather Light "),local("Merriweather-Light"),url(/static/merriweather-latin-300-fc117160c69a8ea0851b26dd14748ee4.woff2) format("woff2"),url(/static/merriweather-latin-300-58b18067ebbd21fda77b67e73c241d3b.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:300;src:local("Merriweather Light italic"),local("Merriweather-Lightitalic"),url(/static/merriweather-latin-300italic-fe29961474f8dbf77c0aa7b9a629e4bc.woff2) format("woff2"),url(/static/merriweather-latin-300italic-23c3f1f88683618a4fb8d265d33d383a.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:400;src:local("Merriweather Regular "),local("Merriweather-Regular"),url(/static/merriweather-latin-400-d9479e8023bef9cbd9bf8d6eabd6bf36.woff2) format("woff2"),url(/static/merriweather-latin-400-040426f99ff6e00b86506452e0d1f10b.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:400;src:local("Merriweather Regular italic"),local("Merriweather-Regularitalic"),url(/static/merriweather-latin-400italic-2de7bfeaf08fb03d4315d49947f062f7.woff2) format("woff2"),url(/static/merriweather-latin-400italic-79db67aca65f5285964ab332bd65f451.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:700;src:local("Merriweather Bold "),local("Merriweather-Bold"),url(/static/merriweather-latin-700-4b08e01d805fa35d7bf777f1b24314ae.woff2) format("woff2"),url(/static/merriweather-latin-700-22fb8afba4ab1f093b6ef9e28a9b6e92.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:700;src:local("Merriweather Bold italic"),local("Merriweather-Bolditalic"),url(/static/merriweather-latin-700italic-cd92541b177652fffb6e3b952f1c33f1.woff2) format("woff2"),url(/static/merriweather-latin-700italic-f87f3d87cea0dd0979bfc8ac9ea90243.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:900;src:local("Merriweather Black "),local("Merriweather-Black"),url(/static/merriweather-latin-900-f813fc6a4bee46eda5224ac7ebf1b7be.woff2) format("woff2"),url(/static/merriweather-latin-900-5d4e42cb44410674acd99153d57df032.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:900;src:local("Merriweather Black italic"),local("Merriweather-Blackitalic"),url(/static/merriweather-latin-900italic-b7901d85486871c1779c0e93ddd85656.woff2) format("woff2"),url(/static/merriweather-latin-900italic-9647f9fdab98756989a8a5550eb205c3.woff) format("woff")}


/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{-webkit-text-size-adjust:100%;line-height:1.15}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden]{display:none}:root{--maxWidth-none:"none";--maxWidth-xs:20rem;--maxWidth-sm:24rem;--maxWidth-md:28rem;--maxWidth-lg:32rem;--maxWidth-xl:36rem;--maxWidth-2xl:42rem;--maxWidth-3xl:48rem;--maxWidth-4xl:56rem;--maxWidth-full:"100%";--maxWidth-wrapper:var(--maxWidth-2xl);--spacing-px:"1px";--spacing-0:0;--spacing-1:0.25rem;--spacing-2:0.5rem;--spacing-3:0.75rem;--spacing-4:1rem;--spacing-5:1.25rem;--spacing-6:1.5rem;--spacing-8:2rem;--spacing-10:2.5rem;--spacing-12:3rem;--spacing-16:4rem;--spacing-20:5rem;--spacing-24:6rem;--spacing-32:8rem;--fontFamily-sans:Montserrat,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--fontFamily-serif:"Merriweather","Georgia",Cambria,"Times New Roman",Times,serif;--font-body:var(--fontFamily-serif);--font-heading:var(--fontFamily-sans);--fontWeight-normal:400;--fontWeight-medium:500;--fontWeight-semibold:600;--fontWeight-bold:700;--fontWeight-extrabold:800;--fontWeight-black:900;--fontSize-root:16px;--lineHeight-none:1;--lineHeight-tight:1.1;--lineHeight-normal:1.5;--lineHeight-relaxed:1.625;--fontSize-0:0.833rem;--fontSize-1:1rem;--fontSize-2:1.2rem;--fontSize-3:1.44rem;--fontSize-4:1.728rem;--fontSize-5:2.074rem;--fontSize-6:2.488rem;--fontSize-7:2.986rem;--color-primary:#005b99;--color-text:#2e353f;--color-text-light:#4f5969;--color-heading:#1a202c;--color-heading-black:#000;--color-accent:#d1dce5}*,:after,:before{box-sizing:border-box}html{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:var(--fontSize-root);line-height:var(--lineHeight-normal)}body{color:var(--color-text);font-family:var(--font-body);font-size:var(--fontSize-1)}footer{padding:var(--spacing-6) var(--spacing-0)}hr{background:var(--color-accent);border:0;height:1px}h1,h2,h3,h4,h5,h6{font-family:var(--font-heading);letter-spacing:-.025em;line-height:var(--lineHeight-tight);margin-bottom:var(--spacing-6);margin-top:var(--spacing-12)}h2,h3,h4,h5,h6{color:var(--color-heading);font-weight:var(--fontWeight-bold)}h1{color:var(--color-heading-black);font-size:var(--fontSize-6);font-weight:var(--fontWeight-black)}h2{font-size:var(--fontSize-5)}h3{font-size:var(--fontSize-4)}h4{font-size:var(--fontSize-3)}h5{font-size:var(--fontSize-2)}h6{font-size:var(--fontSize-1)}h1>a,h2>a,h3>a,h4>a,h5>a,h6>a{color:inherit;text-decoration:none}p{--baseline-multiplier:0.179;--x-height-multiplier:0.35;line-height:var(--lineHeight-relaxed);margin:var(--spacing-0) var(--spacing-0) var(--spacing-8) var(--spacing-0)}ol,p,ul{padding:var(--spacing-0)}ol,ul{list-style-image:none;list-style-position:outside;margin-bottom:var(--spacing-8);margin-left:var(--spacing-0);margin-right:var(--spacing-0)}ol li,ul li{padding-left:var(--spacing-0)}li>p,ol li,ul li{margin-bottom:calc(var(--spacing-8)/2)}li :last-child{margin-bottom:var(--spacing-0)}li>ul{margin-left:var(--spacing-8);margin-top:calc(var(--spacing-8)/2)}blockquote{border-left:var(--spacing-1) solid var(--color-primary);color:var(--color-text-light);font-size:var(--fontSize-2);font-style:italic;margin-bottom:var(--spacing-8);margin-left:calc(var(--spacing-6)*-1);margin-right:var(--spacing-8);padding:var(--spacing-0) var(--spacing-0) var(--spacing-0) var(--spacing-6)}blockquote>:last-child{margin-bottom:var(--spacing-0)}blockquote>ol,blockquote>ul{list-style-position:inside}table{border-collapse:collapse;border-spacing:.25rem;margin-bottom:var(--spacing-8);width:100%}table thead tr th{border-bottom:1px solid var(--color-accent)}a{color:var(--color-primary)}a:focus,a:hover{text-decoration:none}.global-wrapper{margin:var(--spacing-0) auto;max-width:var(--maxWidth-wrapper);padding:var(--spacing-10) var(--spacing-5)}.global-wrapper[data-is-root-path=true] .bio{margin-bottom:var(--spacing-20)}.global-header{margin-bottom:var(--spacing-12)}.main-heading{font-size:var(--fontSize-7);margin:0}.post-list-item{margin-bottom:var(--spacing-8);margin-top:var(--spacing-8)}.post-list-item p{margin-bottom:var(--spacing-0)}.post-list-item h2{color:var(--color-primary);font-size:var(--fontSize-4);margin-bottom:var(--spacing-2);margin-top:var(--spacing-0)}.post-list-item header{margin-bottom:var(--spacing-4)}.header-link-home{font-family:var(--font-heading);font-size:var(--fontSize-2);font-weight:var(--fontWeight-bold);text-decoration:none}.bio{display:flex;margin-bottom:var(--spacing-16)}.bio p,.bio-avatar{margin-bottom:var(--spacing-0)}.bio-avatar{border-radius:100%;margin-right:var(--spacing-4);min-width:50px}.blog-post header h1{margin:var(--spacing-0) var(--spacing-0) var(--spacing-4) var(--spacing-0)}.blog-post header p{font-family:var(--font-heading);font-size:var(--fontSize-2)}.blog-post-nav ul{margin:var(--spacing-0)}.gatsby-highlight{margin-bottom:var(--spacing-8)}@media (max-width:42rem){blockquote{margin-left:var(--spacing-0);padding:var(--spacing-0) var(--spacing-0) var(--spacing-0) var(--spacing-4)}ol,ul{list-style-position:inside}}code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#000;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;line-height:1.5;-o-tab-size:4;tab-size:4;text-align:left;text-shadow:0 1px #fff;white-space:pre;word-break:normal;word-spacing:normal}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{background:#b3d4fc;text-shadow:none}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{background:hsla(0,0%,100%,.5);color:#9a6e3a}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="alternate" type="application/rss+xml" title="Gatsby Starter Blog RSS Feed" href="/rss.xml"/><link rel="icon" href="/favicon-32x32.png?v=4a9773549091c227cd2eb82ccd9c5e3a" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><title data-react-helmet="true">TDD Study - week 2 | Write What You Know</title></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="global-wrapper" data-is-root-path="false"><header class="global-header"><a class="header-link-home" href="/">Write What You Know</a></header><main><article class="blog-post" itemscope="" itemType="http://schema.org/Article"><header><h1 itemProp="headline">TDD Study - week 2</h1><p>May 03, 2022</p></header><section itemProp="articleBody"><h3>부제 : 이건… 뭐야…? 도자기 깨는 장인이야…?</h3>
<p>참고서적 : <code class="language-text">클린 코드를 위한 테스트 주도 개발(해리 J.W. 퍼시벌 저)</code><br>
환경 : <code class="language-text">Mac(M1)</code>, <code class="language-text">Python 3.8.3</code>,  <code class="language-text">Django 4.0.4</code>,  <code class="language-text">Selenium 4.1.3</code>,  <code class="language-text">Firefox</code><br></p>
<h3>Chapter 03. 단위 테스트를 이용한 간단한 홈페이지 테스트<br></h3>
<p>앞서 진행한 내용에 좀 더 살을 붙여보도록 하겠다.<br>
지난 기능 테스트에 작성했듯이 타이틀에 ‘To-Do’라는 문구를 넣어주는 내용도 아마… 추가되겠지?<br>
그리고 무엇보다 이번 챕터에서는 앱 단위로 개발 테스트를 진행한다.<br>
즉 단위 테스트(Unit test)를 작성한다!<br>
이쯤에서 잠깐… 단위 테스트와 기능 테스트의 정확한 차이점이 무엇인지를 짚고 넘어가 보도록 하자.<br></p>
<h4>단위 테스트 vs 기능 테스트<br></h4>
<ul>
<li>기능 테스트 : 사용자 관점에서 애플리케이션 외부를 테스트<br></li>
<li>단위 테스트 : 프로그래머 관점에서 애플리케이션 내부를 테스트<br></li>
</ul>
<p>어떤 시점에서 테스트를 진행하느냐에 따라 기능/단위 테스트로 나뉘고,<br>
때문에 기능 테스트와 단위 테스트는 테스트 스토리부터 방식, 테스트 대상이 차이가 날 수밖에 없다.<br>
이전까지 이 둘의 개념이 좀 모호했는데 이렇게 보니 굉장히 확연히 다른 개념이었던 것이다…<br>
아는 만큼 보인다고… 공부 열심히 해야지… 기승전공부…<br>
<br>
아무튼 그리하여 이 책을 통해 우리가 개발해나가는 방식은 아래와 같은 순서로 이루어질 예정이다.<br></p>
<ol>
<li>기능테스트 작성(사용자 관점의 기능성을 정의)<br></li>
<li>기능 테스트가 실패하는 것을 확인 -> 어떤 코드로 테스트를 통과시킬 수 있을지에 대해 고민 -> 단위 테스트를 작성하여 코드가 동작해야 하는 방향성을 정의<br></li>
<li>단위 테스트가 실패하는 것을 확인 -> 단위 테스트를 통과할 수 있을 정도의 최소한의 코드를 작성 -> 반복(기능 테스트가 완전해질 때까지)<br></li>
<li>기능 테스트 재실행하여 동작여부 확인(이 단계에 단위 테스트를 추가로 작성해야 할 수 있음)<br></li>
</ol>
<p>즉 기능 테스트는 상위 레벨의 개발을, 단위 테스트는 하위 레벨의 개발을 주도한다.<br>
전체 플로우와 이에 대한 적합성 여부를 판단하는 것은 기능 테스트, 그리고 각 내용 하나하나가 정상동작하는지를 확인하는 것은 단위 테스트라고 생각할 수 있겠다.<br><br></p>
<p>그럼 이제 슬슬 작업할 앱을 생성해 보자.<br></p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">python manage<span class="token punctuation">.</span>py startapp lists</code></pre></div>
<p>앱 이름은 책에서 진행한 내용과 동일하게 lists로 넣어봤다.<br></p>
<p>그 다음은 단위 테스트를 작성할 차례다.<br>
startapp 명령어를 통해 자동 생성된 lists 앱 내부의 파일 중에서 tests.py를 눌러본다. 물론 지금은 django.test에서 TestCase를 임포트한 내용 말고는 아무 것도 적혀있지 않다. 이 TestCase는 앞서 사용했던 unittest.TestCase의 확장 버전이다. 이 파일에 고의적인 실패 테스트를 만들어 본다.<br></p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>test <span class="token keyword">import</span> TestCase


<span class="token keyword">class</span> <span class="token class-name">SmokeTest</span><span class="token punctuation">(</span>TestCase<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">test_bad_maths</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span></code></pre></div>
<p>내용을 보아하니 1+1과 3이 동일한 값인지를 확인하는 테스트인 듯하다.<br>
이제 아래의 명령어를 입력하면 테스트를 진행한다.</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">python manage<span class="token punctuation">.</span>py test</code></pre></div>
<p>1+1이 3일리 없으니 이 테스트는 반드시 오류를 리턴하게 되어 있다.<br></p>
<div class="gatsby-highlight" data-language="command"><pre class="language-command"><code class="language-command">Creating test database for alias &#39;default&#39;...
System check identified no issues (0 silenced).
F
======================================================================
FAIL: test_bad_maths (lists.tests.SmokeTest)
----------------------------------------------------------------------
Traceback (most recent call last):
  File &quot;/Users/minh/PycharmProjects/tdd_study/superlists/lists/tests.py&quot;,
	line 7, in test_bad_maths
    self.assertEqual(1 + 1, 3)
AssertionError: 2 != 3

----------------------------------------------------------------------
Ran 1 test in 0.000s

FAILED (failures=1)
Destroying test database for alias &#39;default&#39;...
</code></pre></div>
<p>굳<br>
<br>
그럼 이제 앱 내용을 작성해야 한다.<br>
장고가 어떠한 요청을 받아 처리하는 과정은<br></p>
<ol>
<li>특정 url에 대한 http request를 받음<br></li>
<li>특정 규칙을 이용해 해당 request에 맞는 view 함수를 결정(url 해석)<br></li>
<li>요청을 처리하여 http response로 반환<br></li>
</ol>
<p>와 같으므로 우리가 테스트해야 할 내용은 해당 url의 해석이 제대로 이루어지는지 &#x26; 올바른 html를 반환하여 기능테스트를 통과하는지 의 두 가지이다.<br>
<br>
이에 맞는 테스트코드를 작성해 본다.<br></p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> resolve
<span class="token keyword">from</span> django<span class="token punctuation">.</span>test <span class="token keyword">import</span> TestCase
<span class="token keyword">from</span> lists<span class="token punctuation">.</span>views <span class="token keyword">import</span> home_page


<span class="token keyword">class</span> <span class="token class-name">SmokeTest</span><span class="token punctuation">(</span>TestCase<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">test_root_url_resolves_to_home_page_view</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        found <span class="token operator">=</span> resolve<span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span>found<span class="token punctuation">.</span>func<span class="token punctuation">,</span> home_page<span class="token punctuation">)</span></code></pre></div>
<p>여기서 첫 번째 줄은 from django.core.urlresolvers import resolve 라고 되어있었는데<br>
이게 장고 1.x 버전대 코드라 수정을 해주었다.<br>
이 내용은 대략 url로 ’/‘가 호출되면 resolve를 실행하여 home_page라는 함수를 호출하라는 내용이다.<br>
그 후 해당 함수가 home_page 함수가 맞는지를 확인하는 코드가 들어간다.<br>
이제 코드를 실행하면 오류 메시지는 ImportError: cannot import name ‘home_page’ from ‘lists.views’ 라고 뜬다.<br>
아직 home_page라는 함수를 만든 적이 없으니 당연하다.<br>
<br>
문제는 여기서부터이다. 책에서는 지금부터 본격 TDD의 시작이기 때문에 한 번에 한 줄의 코드만 수정해 갈 것이라고 적혀 있다.<br>
벌써부터 속이 터진다. 하지만 별 수 없지.<br>
<br>
먼저 시급한 문제인 home_page 함수의 부재를 처리해본다.</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>shortcuts <span class="token keyword">import</span> render

<span class="token comment"># Create your views here.</span>
home_page <span class="token operator">=</span> <span class="token boolean">None</span></code></pre></div>
<p>앗 예상치 못했던 진행이다.<br>
TDD란 이렇게 언 발에 오줌 누기 형식으로 진행되는 것이란 말인가<br>
아무튼 다시 테스트를 돌리니 당연하지만 오류 메시지가 바뀌어 있다.</p>
<div class="gatsby-highlight" data-language="command"><pre class="language-command"><code class="language-command">Creating test database for alias &#39;default&#39;...
System check identified no issues (0 silenced).
E
======================================================================
ERROR: test_root_url_resolves_to_home_page_view (lists.tests.SmokeTest)
----------------------------------------------------------------------
Traceback (most recent call last):
  File &quot;/Users/minh/PycharmProjects/tdd_study/superlists/lists/tests.py&quot;, 
	line 9, in test_root_url_resolves_to_home_page_view
    found = resolve(&#39;/&#39;)
  File &quot;/opt/homebrew/Caskroom/miniforge/base/envs/tdd_study/lib/python3.8/
	site-packages/django/urls/base.py&quot;, line 24, in resolve
    return get_resolver(urlconf).resolve(path)
  File &quot;/opt/homebrew/Caskroom/miniforge/base/envs/tdd_study/lib/python3.8/
	site-packages/django/urls/resolvers.py&quot;, line 683, in resolve
    raise Resolver404({&quot;tried&quot;: tried, &quot;path&quot;: new_path})
django.urls.exceptions.Resolver404: {&#39;tried&#39;: [[&lt;URLResolver &lt;URLPattern 
list&gt; (admin:admin) &#39;admin/&#39;&gt;]], &#39;path&#39;: &#39;&#39;}

----------------------------------------------------------------------
Ran 1 test in 0.001s

FAILED (errors=1)
Destroying test database for alias &#39;default&#39;...</code></pre></div>
<p>해당 url 패턴이 지정되어 있지 않기 때문에 오류가 난 것으로 확인된다.<br>
그렇겠지 urls를 안 건드렸으니까…<br>
그래서 이번에는 urls를 수습하러 떠난다.<br></p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>contrib <span class="token keyword">import</span> admin
<span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> path

urlpatterns <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token comment"># path('admin/', admin.site.urls),</span>
    path<span class="token punctuation">(</span><span class="token string">r'^$'</span><span class="token punctuation">,</span> <span class="token string">'superlists.views.home'</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'home'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span></code></pre></div>
<p>이번에도 변함없이 책에는 1.x 버전 장고에 맞춘 코드예제가 나와 있었는데 예를 들면<br>
include, url, patterns 같은 것들…<br>
include는 2버전대에서도 종종 써봤지만 아무튼<br>
patterns는 생략해도 제대로 작동하도록 바뀌었으므로 제거하고, url은 path로 대치하여 코드를 작성했다.<br>
대충 url로 빈 문자열이 전달될 경우 home이라는 view 함수를 찾아가도록 만드는 내용이다.<br>
이대로 테스트를 돌리면 이제 또 에러 메시지가 바뀌어 있다.<br></p>
<div class="gatsby-highlight" data-language="command"><pre class="language-command"><code class="language-command">TypeError: view must be a callable or a list/tuple in the case of include().</code></pre></div>
<p>이번 에러메시지 너무 길어서 마지막 줄만 긁어옴; 이번은 타입에러다.<br>
근데 책에 나온 에러는 import error였기 때문에… 뭔가 버전차이가 또 있겠거니<br>
일단 내 에러메시지의 원인은 urls에서 view 연결하는 부분인 것으로 보여서<br>
책에 나온 import error랑 같이 뚝딱뚝딱 또 고쳐봤다.<br>
(정규식이 사라진 이유는 버전차이 때문인지 그걸로 계속 오류가 나서…ㅠ)<br></p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>contrib <span class="token keyword">import</span> admin
<span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> path
<span class="token keyword">from</span> lists<span class="token punctuation">.</span>views <span class="token keyword">import</span> home_page

urlpatterns <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token comment"># path('admin/', admin.site.urls),</span>
    path<span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">,</span> home_page<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'home'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span></code></pre></div>
<p>home_page가 계속 None 상태면 또 오류가 날 것이 분명하므로 이번에는 이쪽도 바꿔준다.<br></p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>shortcuts <span class="token keyword">import</span> render

<span class="token comment"># Create your views here.</span>
<span class="token keyword">def</span> <span class="token function">home_page</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span></code></pre></div>
<p>그리고 드디어 테스트를 통과했다.<br></p>
<div class="gatsby-highlight" data-language="command"><pre class="language-command"><code class="language-command">Creating test database for alias &#39;default&#39;...
System check identified no issues (0 silenced).
.
----------------------------------------------------------------------
Ran 1 test in 0.000s

OK
Destroying test database for alias &#39;default&#39;...</code></pre></div>
<br>
이제 url을 통한 접근에 문제가 없음을 확인했으니 이번엔 응답을 위한 단위 테스트를 작성할 차례다.<br>
이번 테스트는 HTML 형식의 실제 응답을 반환하는 함수를 작성해야 한다.<br>
lists/tests.py 내용을 아래와 같이 고친다.<br>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> resolve
<span class="token keyword">from</span> django<span class="token punctuation">.</span>test <span class="token keyword">import</span> TestCase
<span class="token keyword">from</span> django<span class="token punctuation">.</span>http <span class="token keyword">import</span> HttpRequest

<span class="token keyword">from</span> lists<span class="token punctuation">.</span>views <span class="token keyword">import</span> home_page


<span class="token keyword">class</span> <span class="token class-name">HomePageTest</span><span class="token punctuation">(</span>TestCase<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">test_root_url_resolves_to_home_page_view</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        found <span class="token operator">=</span> resolve<span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span>found<span class="token punctuation">.</span>func<span class="token punctuation">,</span> home_page<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">test_home_page_returns_correct_html</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        request <span class="token operator">=</span> HttpRequest<span class="token punctuation">(</span><span class="token punctuation">)</span>
        response <span class="token operator">=</span> home_page<span class="token punctuation">(</span>request<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertTrue<span class="token punctuation">(</span>response<span class="token punctuation">.</span>content<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">b'&lt;html>'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertIn<span class="token punctuation">(</span><span class="token string">b'&lt;title>To-Do lists&lt;/title>'</span><span class="token punctuation">,</span> response<span class="token punctuation">.</span>content<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertTrue<span class="token punctuation">(</span>response<span class="token punctuation">.</span>content<span class="token punctuation">.</span>endswith<span class="token punctuation">(</span><span class="token string">b'&lt;/html>'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></div>
<br>
SmokeTest로 되어있던 클래스명을 HomePageTest로 변경하고, 임포트에 HttpRequest를 추가했다.<br>
그리고 test_home_page_returns_correct_html이라는 함수를 추가했는데, 이 함수는
<ol>
<li>HttpRequest 객체를 생성하여 사용자가 어떤 요청을 브라우저에 보냈는지 확인<br></li>
<li>요청을 home_page 뷰에 전달하여 응답을 취득(HttpResponse 인스턴스)<br></li>
<li>응답 내용이 특정 html 코드를 가지고 있는지 확인(title 내용에 To-Do lists가 들어있는지 여부 포함)</li>
</ol>
<p>의 내용을 담고 있다.<br>
앞서 정리한 대로 단위 테스트는 기능 테스트에 의해 파생된 하위 개념이기 때문에<br>
더 상세하고, 실제 코드에 가깝다. 즉 프로그래머의 입장에서 진행해야 한다.<br>
<br>
아무튼 위의 테스트를 실행하면 아래의 에러가 뜬다.<br></p>
<div class="gatsby-highlight" data-language="command"><pre class="language-command"><code class="language-command">TypeError: home_page() takes 0 positional arguments but 1 was given</code></pre></div>
<p>이제 코드의 에러를 한 줄 한 줄 해결해 나갈 차례다.<br>
오류를 수정하기 위한 최소한의 코드를 변경한 뒤 테스트를 재실행하기를 반복해 나가야 한다.<br>
책에서는 이 부분을 단위테스트 코드 주기라고 표시했는데,<br>
개념적으로 볼 때 한 줄씩 코드를 수정해 테스트한 뒤 적용하는 것은 나노 주기,
단위테스트 단위로 코드를 수정 후 적용하는 것은 RGR 주기라고 이해하고 있어서<br>
솔직히 여기서 말하는 주기가 어떤 건지 헷갈린다.<br>
아무튼 시키는 대로 코드 수정을 시작해보도록 한다.<br><br></p>
<p>코드 수정 : home_page()에 파라미터로 request를 추가한다</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">home_page</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span></code></pre></div>
<p>테스트 결과</p>
<div class="gatsby-highlight" data-language="command"><pre class="language-command"><code class="language-command">self.assertTrue(response.content.startswith(b&#39;&lt;html&gt;&#39;))
AttributeError: &#39;NoneType&#39; object has no attribute &#39;content&#39;</code></pre></div>
<p>코드 수정 : django.http.HttpResponse를 임포트하여 리턴</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>http <span class="token keyword">import</span> HttpResponse

<span class="token keyword">def</span> <span class="token function">home_page</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> HttpResponse<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div>
<p>테스트 결과</p>
<div class="gatsby-highlight" data-language="command"><pre class="language-command"><code class="language-command">self.assertTrue(response.content.startswith(b&#39;&lt;html&gt;&#39;))
AssertionError: False is not true</code></pre></div>
<p>코드 수정 : 리턴 내용에 html 코드 추가</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">home_page</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> HttpResponse<span class="token punctuation">(</span><span class="token string">'&lt;html>&lt;title>To-Do lists&lt;/title>'</span><span class="token punctuation">)</span></code></pre></div>
<p>테스트 결과</p>
<div class="gatsby-highlight" data-language="command"><pre class="language-command"><code class="language-command">self.assertTrue(response.content.endswith(b&#39;&lt;/html&gt;&#39;))
AssertionError: False is not true</code></pre></div>
<p>코드 수정 : 리턴 코드에 <code class="language-text">&lt;/html></code> 추가</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">home_page</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> HttpResponse<span class="token punctuation">(</span><span class="token string">'&lt;html>&lt;title>To-Do lists&lt;/title>&lt;/html>'</span><span class="token punctuation">)</span></code></pre></div>
<p>테스트 결과</p>
<div class="gatsby-highlight" data-language="command"><pre class="language-command"><code class="language-command">Ran 2 tests in 0.001s

OK
Destroying test database for alias &#39;default&#39;...</code></pre></div>
<br>
야호!<br>
왜인지 모르겠지만 책보다 일찍 테스트를 통과했는데 어디서 잘못 썼는지 모르겠고 의도는 파악했으므로 다 된 것으로 여기겠음.<br>
자 그럼 기존에 작성했던 functional_tests.py를 다시 실행해보도록 하겠다.<br>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">python functional_tests<span class="token punctuation">.</span>py</code></pre></div>
<p>테스트 결과</p>
<div class="gatsby-highlight" data-language="command"><pre class="language-command"><code class="language-command">F
======================================================================
FAIL: test_can_start_a_list_and_retrieve_it_later (__main__.NewVisitorTest)
----------------------------------------------------------------------
Traceback (most recent call last):
  File &quot;functional_test.py&quot;, line 22, in test_can_start_a_list_and_retrieve_it_later
    self.fail(&#39;Finish the test!&#39;)   # 강제로 테스트 실패 발생시키기
AssertionError: Finish the test!

----------------------------------------------------------------------
Ran 1 test in 1.282s

FAILED (failures=1)</code></pre></div>
<p>성공! Failed로 뜨는 부분은 브라우저 종료를 위해 심어둔 강제 실패때문에 그렇다.<br>
이 과정에 놀랍게도 또 한 차례 오류를 겪었는데 서버가 내려가있는 걸 까먹고 진행해서…<br>
다들 런서버를 까먹지 맙시다!<br>
<br></p>
<h3>Chapter 04. 왜 테스트를 하는 것인가?<br></h3>
<p>챕터 4의 소제목이 갑자기 뜬금없이 원론적인 질문인 이유는 아마도<br>
이 쯤에서 한 줄씩 마이크로 수정을 거치는 방식에 회의감을 느끼고 TDD 때려칠까 고민하는 나 같은 사람들을 위해(역시 나만 그런 게 아니었지) 저자가 친절한 설명을 곁들였기 때문일 것이다(이 내용에 약 3p를 할애하심).<br>
대략 요약하면 지금 고생해 두면 테스트가 나를 대신해 궂은 일들을 해줄 것이다,<br>
TDD를 익히는 것은 훈련이 필요하기 때문에 자잘한 내용부터 시작해야 한다,<br>
테스트의 틀을 잘 만들어두면 새로운 테스트를 추가할 때 활용하기 좋다 기타등등.<br>
맞는 말임을 알면서도 한 편으론 약간 도자기 깨는 장인이 하는 소리 같다는 생각을 떨칠 수가 없는데<br>
그래 뭐… 나만 그런 게 아니라니 아무튼 힘을 내 본다.<br>
<br>
아무튼 다시 테스트로 돌아가서…<br>
챕터 3에 진행한 내용에다가 이어서 코드를 짜야 하기 때문에 저자는 런서버를 통해 서버를 가동할 것을 강조한다. 바로 열댓 줄 위에 똑같은 소리를 했었기 때문에 약간 인제 야너두 상태가 되면서 나 자신을 너그럽게 봐주게 됨<br>
자 그럼 이제 이어서 테스트를 마무리해 보자. 코드를 손봐야 한다.<br>
책 내용대로라면 대충 키 입력 처리를 위한 임포트문 하나가 늘어났고 중간에 h1 내용 확인하는 항목 포함 상세 항목들이 추가됐다.<br>
자 근데<br>
오류없이 한 방에 수정이 될 리가<br>
없죠<br>
이제 라이브러리 함수 뭐 하나 칠 때마다 호환 안 될까봐 심장이 쫄깃해짐 근데 웃긴건 그 예감 틀리지를 않음<br>
아니나다를까 find_element_by_tag_name에 줄이 쫙쫙 가는 것이다.<br>
대충 보니까 함수 형태가 이제 바뀐 모양임…<br>
find_element(by=By.TAG_NAME, value=‘값’) 으로 바꿔달라고 하니 참고하시면 좋을듯 (import도 하나 더 추가해야 함…)<br>
그리하여 결과적으로 아래와 같은 코드를 작성하게 된다.<br></p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver
<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>common<span class="token punctuation">.</span>keys <span class="token keyword">import</span> Keys
<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>common<span class="token punctuation">.</span>by <span class="token keyword">import</span> By
<span class="token keyword">import</span> unittest


<span class="token keyword">class</span> <span class="token class-name">NewVisitorTest</span><span class="token punctuation">(</span>unittest<span class="token punctuation">.</span>TestCase<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 테스트 시작 전에 자동호출되는 특수 메소드</span>
    <span class="token keyword">def</span> <span class="token function">setUp</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>browser <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Firefox<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>browser<span class="token punctuation">.</span>implicitly_wait<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>     <span class="token comment"># 암묵적 대기 3초(로딩대기)</span>

    <span class="token comment"># 테스트 완료 후에 자동호출되는 특수 메소드</span>
    <span class="token keyword">def</span> <span class="token function">tearDown</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>browser<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># test로 시작하는 모든 메소드는 테스트 메소드이며 클래스당 하나 이상의 테스트 메소드 작성 가능</span>
    <span class="token keyword">def</span> <span class="token function">test_can_start_a_list_and_retrieve_it_later</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 유저가 웹사이트를 확인한다</span>
        self<span class="token punctuation">.</span>browser<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'http://localhost:8000'</span><span class="token punctuation">)</span>

        <span class="token comment"># 웹 페이지 타이틀과 헤더가 'To-Do'를 표시하고 있다</span>
        self<span class="token punctuation">.</span>assertIn<span class="token punctuation">(</span><span class="token string">'To-Do'</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>browser<span class="token punctuation">.</span>title<span class="token punctuation">)</span>  <span class="token comment"># 테스트용 어설션을 위해 assertIn 사용</span>
        header_text <span class="token operator">=</span> self<span class="token punctuation">.</span>browser<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>by<span class="token operator">=</span>By<span class="token punctuation">.</span>TAG_NAME<span class="token punctuation">,</span> value<span class="token operator">=</span><span class="token string">'h1'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text
        self<span class="token punctuation">.</span>assertIn<span class="token punctuation">(</span><span class="token string">'To-Do'</span><span class="token punctuation">,</span> header_text<span class="token punctuation">)</span>

        <span class="token comment"># 유저가 작업을 추가하기로 한다</span>
        inputbox <span class="token operator">=</span> self<span class="token punctuation">.</span>browser<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>by<span class="token operator">=</span>By<span class="token punctuation">.</span>ID<span class="token punctuation">,</span> value<span class="token operator">=</span><span class="token string">'id_new_item'</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span>
            inputbox<span class="token punctuation">.</span>get_attribute<span class="token punctuation">(</span><span class="token string">'placeholder'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token string">'작업 아이템 입력'</span>
        <span class="token punctuation">)</span>

        <span class="token comment"># 할일 내용을 텍스트 상자에 입력한다 (예: 공작깃털 사기)</span>
        inputbox<span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">'공작깃털 사기'</span><span class="token punctuation">)</span>
        
        <span class="token comment"># 엔터키를 치면 페이지가 갱신되고 작업 목록에 해당 할일 내용이</span>
        <span class="token comment"># "1: 공작깃털 사기" 형식으로 추가된다</span>
        inputbox<span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span>Keys<span class="token punctuation">.</span>ENTER<span class="token punctuation">)</span>
        
        table <span class="token operator">=</span> self<span class="token punctuation">.</span>browser<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>by<span class="token operator">=</span>By<span class="token punctuation">.</span>ID<span class="token punctuation">,</span> value<span class="token operator">=</span><span class="token string">'id_list_table'</span><span class="token punctuation">)</span>
        rows <span class="token operator">=</span> table<span class="token punctuation">.</span>find_elements<span class="token punctuation">(</span>by<span class="token operator">=</span>By<span class="token punctuation">.</span>TAG_NAME<span class="token punctuation">,</span> value<span class="token operator">=</span><span class="token string">'tr'</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertTrue<span class="token punctuation">(</span>
            <span class="token builtin">any</span><span class="token punctuation">(</span>row<span class="token punctuation">.</span>text <span class="token operator">==</span> <span class="token string">'1: 공작깃털 사기'</span> <span class="token keyword">for</span> row <span class="token keyword">in</span> rows<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span>

        <span class="token comment"># 추가 아이템을 입력할 수 있는 여분의 텍스트 상자가 존재한다</span>
        <span class="token comment"># 다른 할일을 입력한다(예: "공작깃털을 이용해서 그물 만들기")</span>
        self<span class="token punctuation">.</span>fail<span class="token punctuation">(</span><span class="token string">'Finish the test!'</span><span class="token punctuation">)</span>  <span class="token comment"># 강제로 테스트 실패 발생시키기</span>

<span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span></code></pre></div>
<p>위의 내용을 테스트해 보면 h1을 찾지 못해서 아래와 같은 오류가 뜬다.<br></p>
<div class="gatsby-highlight" data-language="command"><pre class="language-command"><code class="language-command">selenium.common.exceptions.NoSuchElementException: Message: Unable to locate element: h1
Stacktrace:
WebDriverError@chrome://remote/content/shared/webdriver/Errors.jsm:183:5
NoSuchElementError@chrome://remote/content/shared/webdriver/Errors.jsm:395:5
element.find/&lt;/&lt;@chrome://remote/content/marionette/element.js:300:16</code></pre></div>
<p>여기까지 왔으면 테스트는 제대로 작성한 것이고 이에 맞춰 코드를 수정해야 한다.<br>
그런데 이쯤에서 떠올려야 할 규칙사항 : <b>상수는 테스트하지 마라</b><br>
이것은 단위 테스트를 할 때의 일반적인 규칙 중 하나라고 한다. 다들 나만 빼고 언제 그런 규칙을… 정한 거야…?<br>
정리하자면 로직이나 흐름 제어, 설정 등을 테스트하기 위한 단위 테스트에서 특정 문자열을 체크하는 것이 의미가 없기 때문이라고 한다. 이런 경우는 템플릿을 이용하여 구문 검증을 하는 편이 더 효율적이라고. 듣고 보니 그러하다.<br>
<br>
이런 설명이 구구절절 나온 것은 당연하게도 모두 템플릿 테스트 코드를 작성하기 위한 밑밥이다.<br>
지금부터 템플릿을 사용하기 위한 리팩터링(Refactoring, 기능을 바꾸지 않고 코드 자체를 개선하는 작업)에 들어간다.
지금까지도 충분히 한 줄씩 수정을 해 왔지만, 리펙터링 작업을 할 때는 기존에 잘 되던 기능이 바뀌면 안 되기 때문에 특히 더더욱 조심해서 한 번에 한 가지씩만 수정을 해야 한다고 하니 참고하자.<br>
<br>
리펙터링을 진행하기 위해서는 먼저 그 자체로 이미 테스트를 무사히 통과하는 코드가 필요한데<br>
우리의 코드는 알다시피 테스트를 통과했다. 따라서 작업내용을 표시할 템플릿 파일을 만들러 간다.<br>
<br>
지금까지 작업한 lists 앱 폴더 하위에 templates 폴더를 생성하고, home.html 파일을 만든다.<br></p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>To-Do lists<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre></div>
<p>그리고 views.py 파일에도 렌더 페이지 부분을 추가해 준다.</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>shortcuts <span class="token keyword">import</span> render
<span class="token keyword">from</span> django<span class="token punctuation">.</span>http <span class="token keyword">import</span> HttpResponse


<span class="token keyword">def</span> <span class="token function">home_page</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> render<span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token string">'home.html'</span><span class="token punctuation">)</span></code></pre></div>
<p>그리고 <code class="language-text">python manage.py test</code>로 확인해 본다.</p>
<div class="gatsby-highlight" data-language="command"><pre class="language-command"><code class="language-command">======================================================================
ERROR: test_home_page_returns_correct_html (lists.tests.HomePageTest)
----------------------------------------------------------------------
...
    raise TemplateDoesNotExist(template_name, chain=chain)
django.template.exceptions.TemplateDoesNotExist: home.html

----------------------------------------------------------------------
Ran 2 tests in 0.002s
</code></pre></div>
<p>중간에 상세한 오류는 생략하고… 대략적으로 템플릿을 못 찾는다는 의미임<br>
왜 못찾느냐 그것은 우리가 settings.py를 손대지 않았기 때문이다.<br>
장고 좀 건드려 본 사람들은 모두 아는 국룰 제1항 그것은 INSTALLED_APPS에 앱이름 추가하기…<br>
이 책은 이제까지 현란한 한 줄 코드 수정을 선보이며 나의 혼을 쏙 빼놓아서 앱 추가조차 까먹게 만들고는… 이제 와서 앱을 추가 안 했잖니^^라며… 나를 놀린 것이다… 농락당한 기분인걸…?</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">INSTALLED_APPS <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token string">'django.contrib.admin'</span><span class="token punctuation">,</span>
    <span class="token string">'django.contrib.auth'</span><span class="token punctuation">,</span>
    <span class="token string">'django.contrib.contenttypes'</span><span class="token punctuation">,</span>
    <span class="token string">'django.contrib.sessions'</span><span class="token punctuation">,</span>
    <span class="token string">'django.contrib.messages'</span><span class="token punctuation">,</span>
    <span class="token string">'django.contrib.staticfiles'</span><span class="token punctuation">,</span>
    <span class="token string">'lists'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span></code></pre></div>
<p>옜소<br>
이제 됐겠지?</p>
<div class="gatsby-highlight" data-language="command"><pre class="language-command"><code class="language-command">----------------------------------------------------------------------
Ran 2 tests in 0.001s

OK</code></pre></div>
<p>됐당<br>
다음은 상수를 테스트하지 않고 템플릿을 이용해서 렌더링하는 것을 테스트하도록 수정해주어야 하…는데 장고의 render_to_string을 쓰면 쉽다고 한다. lists/tests.py 파일을 다음과 같이 수정한다.</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> resolve
<span class="token keyword">from</span> django<span class="token punctuation">.</span>test <span class="token keyword">import</span> TestCase
<span class="token keyword">from</span> django<span class="token punctuation">.</span>http <span class="token keyword">import</span> HttpRequest
<span class="token keyword">from</span> django<span class="token punctuation">.</span>template<span class="token punctuation">.</span>loader <span class="token keyword">import</span> render_to_string

<span class="token keyword">from</span> lists<span class="token punctuation">.</span>views <span class="token keyword">import</span> home_page

<span class="token keyword">class</span> <span class="token class-name">HomePageTest</span><span class="token punctuation">(</span>TestCase<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">test_root_url_resolves_to_home_page_view</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        found <span class="token operator">=</span> resolve<span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span>found<span class="token punctuation">.</span>func<span class="token punctuation">,</span> home_page<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">test_home_page_returns_correct_html</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        request <span class="token operator">=</span> HttpRequest<span class="token punctuation">(</span><span class="token punctuation">)</span>
        response <span class="token operator">=</span> home_page<span class="token punctuation">(</span>request<span class="token punctuation">)</span>
        expected_html <span class="token operator">=</span> render_to_string<span class="token punctuation">(</span><span class="token string">'home.html'</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span>response<span class="token punctuation">.</span>content<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> expected_html<span class="token punctuation">)</span></code></pre></div>
<p>리스폰스 콘텐트의 바이트 데이터를 .decode() 함수를 써서 유니코드로 변환하고, 문자열 대 문자열로 비교를 거친다. 여기서 중요한 점은 상수가 아닌 구현 결과물을 비교하는 것이다.<br>
단위 테스트 수정이 끝났다면 이제 다시 home.html 템플릿에 부족한 내용을 추가하러 간다.</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>To-Do lists<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Your To-Do list<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre></div>
<p>기본적인 구조 추가와 더불어 h1 태그를 추가해 주었다. 이제 기능 테스트를 다시 돌려 보면</p>
<div class="gatsby-highlight" data-language="command"><pre class="language-command"><code class="language-command">selenium.common.exceptions.NoSuchElementException: Message: 
Unable to locate element: [id=&quot;id_new_item&quot;]</code></pre></div>
<p>그려 고마우이<br>
다음 내용을 수정한다.</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>To-Do lists<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Your To-Do list<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id_new_item<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre></div>
<p>다시 테스트</p>
<div class="gatsby-highlight" data-language="command"><pre class="language-command"><code class="language-command">Traceback (most recent call last):
  File &quot;functional_tests.py&quot;, line 29, 
	in test_can_start_a_list_and_retrieve_it_later
    self.assertEqual(
AssertionError: &#39;&#39; != &#39;작업 아이템 입력&#39;
+ 작업 아이템 입력</code></pre></div>
<p>아니 망할 거 알면서 테스트 돌려야 하는 과정 너무 스트레스다<br>
아무튼 다음 내용을 고치러 간다.</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>To-Do lists<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Your To-Do list<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id_new_item<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>작업 아이템 입력<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre></div>
<p>테스트 결과</p>
<div class="gatsby-highlight" data-language="command"><pre class="language-command"><code class="language-command">
selenium.common.exceptions.NoSuchElementException: 
Message: Unable to locate element: [id=&quot;id_list_table&quot;]</code></pre></div>
<p>그려 고마우이…<br>
이제 테이블을 추가한다.</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>To-Do lists<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Your To-Do list<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id_new_item<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>작업 아이템 입력<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id_list_table<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre></div>
<p>테스트 결과</p>
<div class="gatsby-highlight" data-language="command"><pre class="language-command"><code class="language-command">Traceback (most recent call last):
  File &quot;functional_tests.py&quot;, line 43, in test_can_start_a_list_and_retrieve_it_later
    self.assertTrue(
AssertionError: False is not true</code></pre></div>
<p>으잉 갑자기 이건 뭐지<br>
다행히 책에도 똑같은 에러가 나고 있다. 오류 내용을 명확히 보기 위해 기능 테스트 파일의 assertTrue 함수에 실패 메시지를 정의해 준다.</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
rows <span class="token operator">=</span> table<span class="token punctuation">.</span>find_elements<span class="token punctuation">(</span>by<span class="token operator">=</span>By<span class="token punctuation">.</span>TAG_NAME<span class="token punctuation">,</span> value<span class="token operator">=</span><span class="token string">'tr'</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertTrue<span class="token punctuation">(</span>
            <span class="token builtin">any</span><span class="token punctuation">(</span>row<span class="token punctuation">.</span>text <span class="token operator">==</span> <span class="token string">'1: 공작깃털 사기'</span> <span class="token keyword">for</span> row <span class="token keyword">in</span> rows<span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token string">"신규 작업이 테이블에 표시되지 않는다"</span>
        <span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span></code></pre></div>
<p>다시 테스트</p>
<div class="gatsby-highlight" data-language="command"><pre class="language-command"><code class="language-command">AssertionError: False is not true : 신규 작업이 테이블에 표시되지 않는다</code></pre></div>
<p>야쓰<br>
이 내용은 폼 제출 처리를 구현해야 하기 때문에 다음 챕터로 넘어간다.<br>
길었던 3-4챕터가 이렇게 마무리되고… 나의 하루도… 마무리된다… 이제 잘 수 있어…<br></p></section><hr/><footer><div class="bio"><div data-gatsby-image-wrapper="" style="width:50px;height:50px" class="gatsby-image-wrapper bio-avatar"><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#080808;width:50px;height:50px;position:relative"></div><picture><source type="image/avif" data-srcset="/static/0944b31367de366aa3b918177b8bd7e5/d4bf4/profile-pic_b.avif 50w,/static/0944b31367de366aa3b918177b8bd7e5/ee81f/profile-pic_b.avif 100w" sizes="50px"/><source type="image/webp" data-srcset="/static/0944b31367de366aa3b918177b8bd7e5/3faea/profile-pic_b.webp 50w,/static/0944b31367de366aa3b918177b8bd7e5/6a679/profile-pic_b.webp 100w" sizes="50px"/><img data-gatsby-image-ssr="" layout="fixed" data-main-image="" style="opacity:0" sizes="50px" decoding="async" loading="lazy" data-src="/static/0944b31367de366aa3b918177b8bd7e5/e5610/profile-pic_b.png" data-srcset="/static/0944b31367de366aa3b918177b8bd7e5/e5610/profile-pic_b.png 50w,/static/0944b31367de366aa3b918177b8bd7e5/e9b55/profile-pic_b.png 100w" alt="Profile picture"/></picture><noscript><picture><source type="image/avif" srcSet="/static/0944b31367de366aa3b918177b8bd7e5/d4bf4/profile-pic_b.avif 50w,/static/0944b31367de366aa3b918177b8bd7e5/ee81f/profile-pic_b.avif 100w" sizes="50px"/><source type="image/webp" srcSet="/static/0944b31367de366aa3b918177b8bd7e5/3faea/profile-pic_b.webp 50w,/static/0944b31367de366aa3b918177b8bd7e5/6a679/profile-pic_b.webp 100w" sizes="50px"/><img data-gatsby-image-ssr="" layout="fixed" data-main-image="" style="opacity:0" sizes="50px" decoding="async" loading="lazy" src="/static/0944b31367de366aa3b918177b8bd7e5/e5610/profile-pic_b.png" srcSet="/static/0944b31367de366aa3b918177b8bd7e5/e5610/profile-pic_b.png 50w,/static/0944b31367de366aa3b918177b8bd7e5/e9b55/profile-pic_b.png 100w" alt="Profile picture"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div><p>Written by <strong>Max</strong> <!-- --> </p></div></footer></article><nav class="blog-post-nav"><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li><a rel="prev" href="/tdd_01/">← <!-- -->TDD Study - week 1</a></li><li><a rel="next" href="/tdd_03/">TDD Study - week 3<!-- --> →</a></li></ul></nav></main><footer>© <!-- -->2022<!-- -->, Built with<!-- --> <a href="https://www.gatsbyjs.com">Gatsby</a></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/tdd_02/";window.___webpackCompilationHash="f23941e9fd869f87253c";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-67664a8ccc6c9f02b880.js"],"app":["/app-5787639622e02c47a334.js"],"component---src-pages-404-js":["/component---src-pages-404-js-27981ca7dd461cb4280e.js"],"component---src-pages-index-js":["/component---src-pages-index-js-4040852d64a1d5e94e12.js"],"component---src-pages-using-typescript-tsx":["/component---src-pages-using-typescript-tsx-2f9b97cf148785549d09.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-9fb8e9a3391dbfc44ab9.js"]};/*]]>*/</script><script src="/polyfill-67664a8ccc6c9f02b880.js" nomodule=""></script><script src="/app-5787639622e02c47a334.js" async=""></script><script src="/framework-9f7f9e10b62e50725876.js" async=""></script><script src="/webpack-runtime-c999078aff899bb9f0e7.js" async=""></script></body></html>